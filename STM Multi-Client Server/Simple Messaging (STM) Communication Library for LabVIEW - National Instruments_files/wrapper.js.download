var HOST_ENVIROMENT=function(hostname){if(hostname.indexOf("-dev2")>-1){return "-dev2";}else if(hostname.indexOf("-dev")>-1){if(hostname.indexOf("saas-dev")>-1){return "";}
if(hostname.indexOf("courseware-dev")>-1){return "";}
if(hostname.indexOf("certain")>-1){return "";}
if(hostname.indexOf("cvent")>-1){return "";}
if(hostname.indexOf("partners")>-1){return "";}else{return "-dev";}}else if(hostname.indexOf("-test2")>-1){return "-test2";}else if(hostname.indexOf("-test")>-1){if(hostname.indexOf("events-test")>-1){return "";}else{return "-test";}}else if(hostname.indexOf("stage")>-1){return "-test";}else{return "";}};HOST_ENVIROMENT(location.hostname);var globalName,currentPage=document.location.href,siteSection=$('.current').find('a').text(),locale=PNX.utils.Cookie.get("locale"),pageProtocol=location.protocol,cartUrl="//sine"+HOST_ENVIROMENT(location.hostname)+".ni.com/apps/utf8/nios.store?action=view_cart&loc="+locale,ggList=pageProtocol+"//www"+HOST_ENVIROMENT(location.hostname)+".ni.com/global-gateway",searchUrl=pageProtocol+"//search"+HOST_ENVIROMENT(location.hostname)+".ni.com/nisearch/app/main",windowWidth=window.innerWidth,search_opened,nav_opened,timeout=false,megaDropdown=document.getElementsByClassName("mega-dropdown"),navCalled=false;document.addEventListener("DOMContentLoaded",navBar);if(!navCalled){$(document).on("navBar",navBar);if(typeof mobileMenu=='function'){$(document).on("navBar",mobileMenu);}}
function navBar(){var copyright=document.querySelector(".copyright");var cart=document.querySelector("li.cart-badge a");if(copyright!=null&&cart!=null)
{var d=new Date();var currentYear=d.getFullYear();copyright.innerHTML=currentYear;cart.setAttribute("href",cartUrl);}
$('.wrapper-search').click(function(){$(this).hide();$('.nia-menu-item').not(".nia-menu-item.cart-badge").addClass('fade');$('.nia-menu-item.nia-utils.header-icon.account').hide();if(($(window).width()<=1099)){$('.toggle').removeClass("active");$('.header-menu').removeClass("active");$('.mobile-spacer').removeClass("active");$('.ni-logo').removeClass("active");$('body').removeClass('menu-open');$('.mobile-nav.ni-megamenu-mobile').removeClass("open");}
$('.wrapper-search-form').addClass('active');$('.close').addClass('active');$('#wrapperSearchId').hide();});$('.close').click(function(){closeSearch();});$(function(){$('.toggle').click(function(){$(this).toggleClass("active");$(".header-menu").toggleClass("active");$(".mobile-spacer").toggleClass("active");$(".ni-logo").toggleClass("active");$('body').toggleClass('menu-open');});});for(i=0;i<megaDropdown.length;i++){megaDropdown[i].index=i;megaDropdown[i].onmouseover=function(){this.classList.add("open");};megaDropdown[i].onmouseleave=function(){this.classList.remove("open");};}
navCalled=true;}
function closeSearch(){$('.wrapper-search').show();$('.nia-menu-item').not(".nia-menu-item.cart-badge").removeClass('fade');if(($(window).width()>=1100)){$('.nia-menu-item.nia-utils.header-icon.account').show();}
$('.wrapper-search-form').removeClass('active');$('.close').removeClass('active');$('#wrapperSearchId').show();}
window.addEventListener('resize',function(){var windowWidth=$(window).width();if($(window).width()!=windowWidth){windowWidth=$(window).width();$(".active").removeClass("active");closeSearch();}});$(function(){$(document).on("myAccount",myAccount);function myAccount(){var locale=(($.cookie("locale")!==null)&&(typeof($.cookie("locale"))!=='undefined'))?$.cookie("locale"):'en';$('.account-content').niUP(locale);$('.account-content').hover(function(){$('.account-link').toggleClass('hover');});}
myAccount();});$(function(){$(document).on("globalSearch",globalSearch);function globalSearch(){$('#autoComplete-global').attr('action',searchUrl);NI.pnx.autocomplete.initialize();}
globalSearch();});function globalGatewayCallback(e){}
$(function(){$(document).on("globalGatewayPanel",globalGatewayPanel);function globalGatewayPanel(){NI.require({js:"",priority:"high"},function(){locale=PNX.utils.Cookie.get("locale");if(!locale){locale="en-us";}
$('.global-gateway img').attr("src","/images/wrapper/flags/"+locale.split("-")[1].toLowerCase()+".png");uri=pageProtocol+"//www"+HOST_ENVIROMENT(location.hostname)+".ni.com"+"/wrapper-gg/ggData?locale="+locale;$('.global-gateway').attr("href",function(i,val){if($('li.products').hasClass('current')){currentPage=pageProtocol+"//www"+HOST_ENVIROMENT(location.hostname)+".ni.com/en-us/shop.html";}
return ggList+"?rtrn="+encodeURIComponent(currentPage);});dualByteAdjustment(locale);$.ajax({url:uri,dataType:"jsonp",jsonpCallback:"globalGatewayCallback",cache:true}).then(function(data){$(".global-gateway span").text(data.countryName);}).fail(function(jqXHR,textStatus){$(".global-gateway span").text("United States");});});}
globalGatewayPanel();});function dualByteAdjustment(pageLang){$('li.nia-menu-item').attr('lang',pageLang);$('.autoCompleteItem-global INPUT').attr('lang',pageLang);}
function mobileNavPatch(){$('li.nia-menu-item a').on('click touchend',function(e){var el=$(this);var link=el.attr('href');window.location=link;});}